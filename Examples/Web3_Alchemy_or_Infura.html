<!DOCTYPE html>
<html>
  <head>
    <title>Owl Kingz</title>
    <script src="https://aloycwl.github.io/js/cdn/web3.min.js"></script>
  </head>
  <body>
    <button
      onclick="load('https://eth-rinkeby.alchemyapi.io/v2/xneL9EV87zUlVocEVcyDT5tqp4LZE0Fy')"
    >
      Using Rinkeby Alchemy
    </button>
    <button
      onclick="load('https://rinkeby.infura.io/v3/d9dd32eb1ebe4bcf82626cd47e40fd22')"
    >
      Using Rinkeby Infura
    </button>
    <a id="msg"></a>

    <script>
      async function load(p1) {
        const web3 = await new Web3(p1);
        const addr = '0xD120D29947BCb41812Dc6e7AbA2782E7c8237F36';
        const contract = new web3.eth.Contract(
          [
            {
              inputs: [],
              name: 'count',
              outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],
              stateMutability: 'view',
              type: 'function',
            },
          ],
          addr
        );

        document.getElementById(
          'msg'
        ).innerHTML = `The address is <b>${addr}</b> has minted <b>${await contract.methods.count
          .call()
          .call()}</b> NFTs`;
      }
    </script>
  </body>
</html>
